<p><div style="text-align: right"><sub>A MakerBogans &amp; Safflower Production</sub></div>
<img align="right" width="100" height="100" src="https://raw.githubusercontent.com/MakerBogans/images/main/dropbear.png?raw=true"></p>
<h2>Roadkill Enhanced Toolhead PCB Family</h2>

<p>The RKE family of toolhead boards are based off the roadkill board designed xbst_ but offers numerous improvements.</p>
<ul>
<li>Heater current capacity is greatly improved offering 5A of capacity on the RKE-Long board and 6A on RKE<sup>2</sup>.</li>
<li>Support for simultaneous use of neopixels, filament sensor, inductive probe and x endstop switch with dedicated ports for all features.</li>
<li>All boards within the RKE family are pin compatible allowing for mix and matching of boards.</li>
</ul>
<p align="middle" >
  <img src="https://github.com/MakerBogans/roadkill/blob/main/roadkill/images/RKE2.jpg?raw=true" width="40%" />
  <img src="https://github.com/MakerBogans/roadkill/blob/main/roadkill/images/RKE-Long.jpg?raw=true" width="40%" /> 
</p>

<h2 id="important-notes">Important Notes</h2>
<ul>
<li>Heater screw terminal is polarised, as the 24V supply is used as a common rail.</li>
<li>Nylon or printed washers should be used to protect the mounting holes due to the proximity of the traces to the holes.</li>
<li>LED port is designed for neopixels and uses a common 5V rail with the filament sensor port.</li>
<li>Probe port has a 24V power rail derived from the heater.</li>
</ul>
<p>&#9888;<b>Do not connect a wire between the MCU and the Roadkill probe port for V, this will result in backfeeding 24V into the MCU. V is provided from the Heater</b></p>
<h2 id="bom">BOM</h2>
<p>Per Board,</p>
<ul>
<li>1 x 20 pin IDC header (2x10 2.54mm pitch)</li>
<li>5 x 2 pin JST-XH</li>
<li>3 x 3 pin JST-XH (2x for RKE Long)</li>
<li>1 x 4 pin JST-XH (2X for RKE Long)</li>
<li>1 x 5 mm pitch screw terminal (TB00250002BE)</li>
</ul>
<p>Molex temp-flex ribbon is the preferred ribbon solution (Molex, 100057-0101).</p>
<p>For IDC connector/sockets 3M D89120-0131HK with D3448-89120 strain relief clip are the preferred solutions.</p>
<h2 id="pinout-for-ports">Pinout for Ports</h2>
<p>IDC numbering is ODD_EVEN with 1 denoted by an arrow on the PCB</p>
<p>Pin 1 of the JST-XH ports is the square pads on the PCB.</p>
<p>For RKE<sup>2</sup></p>
<table>
<thead>
<tr>
<th>Port</th>
<th>Pin 1 (IDC PIN)</th>
<th>Pin 2 (IDC PIN)</th>
<th>Pin 3 (IDC PIN)</th>
<th>Pin 4 (IDC PIN)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Layer Fan</td>
<td>Fan Voltage (18)</td>
<td>Fan GND (20)</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Heater Fan</td>
<td>Fan Voltage (14)</td>
<td>Fan GND (16)</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>X endstop</td>
<td>GND (2)</td>
<td>Signal (12)</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Filament Sensor</td>
<td>5 V (4)</td>
<td>GND (2)</td>
<td>Signal (10)</td>
<td>-</td>
</tr>
<tr>
<td>Neopixel</td>
<td>5 V (4)</td>
<td>GND (2)</td>
<td>Data In (6)</td>
<td>-</td>
</tr>
<tr>
<td>Probe</td>
<td>24 (1,2)</td>
<td>GND (2)</td>
<td>Signal (8)</td>
<td>-</td>
</tr>
<tr>
<td>Thermistor (T0)</td>
<td>T0 (11)</td>
<td>GNDA (9)</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Extruder Stepper</td>
<td>A1 (19)</td>
<td>A2 (17)</td>
<td>B1 (15)</td>
<td>B2 (13)</td>
</tr>
<tr>
<td>Heater</td>
<td>24 V (1,3)</td>
<td>HE GND (5,7)</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>RKE Long utilises a combined Filament Sensor and X endstop port pinout is below.</p>
<table>
<thead>
<tr>
<th>Port</th>
<th>Pin 1 (IDC PIN)</th>
<th>Pin 2 (IDC PIN)</th>
<th>Pin 3 (IDC PIN)</th>
<th>Pin 4 (IDC PIN)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Combined FS and XES</td>
<td>5 V (4)</td>
<td>GND (2)</td>
<td>Signal (12)</td>
<td>Signal (10)</td>
</tr>
</tbody>
</table>
<h1 id="schematic">Schematic</h1>
<p><img src="https://github.com/MakerBogans/roadkill/blob/main/roadkill/images/Schematic.png?raw=true" alt=""></p>
<h1 id="probe-wiring">Probe Wiring</h1>
<p>It is critical to wire Z probe correctly to avoid damage to MCU. Follow the below wiring guides</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://github.com/MakerBogans/roadkill/blob/main/roadkill/wiring/ProbeSpecific/Klippy.png?raw=true" alt=""></td>
<td><img src="https://github.com/MakerBogans/roadkill/blob/main/roadkill/wiring/ProbeSpecific/Inductive.png?raw=true" alt=""></td>
</tr>
<tr>
<td><img src="https://github.com/MakerBogans/roadkill/blob/main/roadkill/wiring/ProbeSpecific/Euclid5V.png?raw=true" alt=""></td>
<td><img src="https://github.com/MakerBogans/roadkill/blob/main/roadkill/wiring/ProbeSpecific/Euclid24V.png?raw=true" alt=""></td>
</tr>
</tbody>
</table>
<h1 id="troubleshooting">Troubleshooting</h1>
<table>
<thead>
<tr>
<th>Number</th>
<th>Symptoms</th>
<th>Cause</th>
<th>Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>X endstop is permently triggered or not triggering</td>
<td>X end stop is shorted to GND on the MCU-&gt;Roadkill board, S is connected to G on the X endstop port</td>
<td>Swap X endstop pins on the MCU-&gt;Roadkill board</td>
</tr>
<tr>
<td>2</td>
<td>Probe disconnecting when heater is turned  on, Flickering Probe during PWM control of the Probe</td>
<td>Reversed Polarity on the 24 V Screw terminal on the MCU-&gt;Roadkill board</td>
<td>Swap  Heater Wires on the MCU-&gt;Roadkill board</td>
</tr>
</tbody>
</table>
<h1 id="license">License</h1>
<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png?raw=true" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></p>
